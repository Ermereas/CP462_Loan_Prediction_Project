# -*- coding: utf-8 -*-
"""Final_Project_Challenge_Loan_Prediction_FINAL.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1XJOdCtQR8EptNSOaPTe3YWgp5imetAx2

จัดทำโดย</br>
นายมนพล สงวนกลิ่น รหัสนิสิต 62102010181</br>
นายศิระณัฐชพงศ์ ฤกษ์ศิริ รหัสนิสิต 62102010190</br>
นายปาณัสม์ พัฒนรอด รหัสนิสิต 62102010436</br>

Final Project Challenge Assignment

ข้อกำหนด Project

    แต่ละกลุ่มสมัครสมาชิกและเข้าร่วมการแข่งขันหัวข้อ Loan Prediction III บน

    https://datahack.analyticsvidhya.com/contest/practice-problem-loan-prediction-iii/
    Import Clean Explore ข้อมูล train data (EDA)
    สร้างโมเดลโดยให้ชนะ baseline ให้มากที่สุดสำหรับ test data โดยการ submit ลงใน AnalticsVidhya
    โชว์ให้เห็นในโค้ดว่าโมเดลที่เลือกมาสร้าง output คือโมเดลใด
    อธิบายความสัมพันธ์ และ คุณสมบัติของโมเดลที่สร้างในแต่ละขั้นตอน ให้ชัดเจน (markdown ใน notebook)

Baseline by predicting majority:  0.7152777777777778

การให้คะแนน Project (100 คะแนน)

    1.การนำเข้าข้อมูล การแปลงข้อมูล และ pre-processing 15 คะแนน
    2.Exploratory Data Analysis （EDA) 10 คะแนน
    3.ความถูกต้องของการทำงาน (เช่น feature scaling, feature transformation, cross-validation) 10 คะแนน
    4.การใช้ plot เพื่อ visualize ระหว่างการสร้างโมเดล 5 คะแนน
    5.การจูนโมเดล 10 คะแนน
    6.การอธิบายโมเดล (สัมพันธ์กับข้อกำหนดข้อ 5.) 15 คะแนน
    7.การชนะ baseline (หากชนะได้เต็มในส่วนนี้ หากไม่ชนะคิดเป็นสัดส่วนตามเปอร์เซ็นต์) 15 คะแนน
    8.Ranking ของแต่ละกลุ่มในชั้นเรียน 15 คะแนน (ได้ที่ 1 ได้ 15 ไล่ลงไปเรื่อยๆตาม rank ใน leaderboard)
    9.Wow factor (5 คะแนน)

การส่งบน AnalticsVidhya ไม่ต้อง submit code file และห้ามโชว์ (Do you want to show your code on leaderboard?) บน leaderboard มิฉะนั้นจะถือว่าเป็นการตั้งใจส่งโค้ดให้เพื่อน

ย้ำเตือน! ห้ามลอกโปรแกรมของกลุ่มอื่นหรือของรุ่นพี่ จะมีการใช้โปรแกรมเปรียบเทียบโค้ดในการตรวจ เพื่อหาความเหมือนของแต่ละกลุ่ม หากพบว่ากลุ่มใดเหมือนกันมากกว่า 50% ขึ้นไป จะถือว่าลอกกันและจะให้ 0 ทั้งผู้ให้ลอกและผู้ลอก

สิ่งที่ต้องส่ง (ส่งใน account ของสมาชิกกลุ่มที่มี ID น้อยที่สุด)

1. Screen capture อันดับบน  Leaderboard ของ AnalyticsVidhya (file.png/.jpg)

https://datahack.analyticsvidhya.com/contest/practice-problem-loan-prediction-iii/lb

2. file_submission ที่ส่งไปบน AnalyticsVidhya (.csv)

3. Notebook file ที่รันมาแล้ว (.ipynb)

4. Notebook file save as .py (.py)

#Import
"""

from google.colab import drive
drive.mount('/content/drive')

import warnings
warnings.filterwarnings('ignore')

!pip install catboost

import numpy as np 
import pandas as pd 
import matplotlib.pyplot as plt 
import seaborn as sns 
import os 
from sklearn.model_selection import train_test_split 
from sklearn.linear_model import LogisticRegression
from sklearn.metrics import accuracy_score
from sklearn.discriminant_analysis import LinearDiscriminantAnalysis
from xgboost import XGBClassifier
from sklearn.model_selection import GridSearchCV
from sklearn.model_selection import RandomizedSearchCV
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score
from sklearn.naive_bayes import GaussianNB
from sklearn.neighbors import KNeighborsClassifier
from sklearn.ensemble import RandomForestClassifier
from sklearn.ensemble import AdaBoostClassifier
from sklearn.ensemble import GradientBoostingClassifier
from sklearn.svm import SVC
from sklearn.pipeline import make_pipeline
from sklearn.preprocessing import StandardScaler
from sklearn.metrics import classification_report
import lightgbm as lgb
from sklearn.metrics import roc_curve
from sklearn.metrics import roc_auc_score
from google.colab import files
from catboost import CatBoostClassifier, Pool, metrics, cv
from xgboost import plot_tree

"""# นำเข้าข้อมูล"""

train_df = pd.read_csv("/content/drive/MyDrive/CP462DataSci/Loan_Predict/train_ctrUa4K.csv") 
test_df = pd.read_csv("/content/drive/MyDrive/CP462DataSci/Loan_Predict/test_lAUu6dG.csv")
sample_sub = pd.read_csv("/content/drive/MyDrive/CP462DataSci/Loan_Predict/sample_submission_49d68Cx.csv")

train_df
#ประกอบด้วย 13 Column  คือ Loan_ID,Gender,Married,Dependents,Education,Self_Employed,ApplicantIncome,CoapplicantIncome,LoanAmount,Loan_Amount_Term,Credit_History,Property_Area,Loan_Status

test_df
#ประกอบด้วย 12 Column  คือ Loan_ID,Gender,Married,Dependents,Education,Self_Employed,ApplicantIncome,CoapplicantIncome,LoanAmount,Loan_Amount_Term,Credit_History,Property_Area

"""# Exploratory Data Analysis

**Target : Loan_Status**
"""

plt.style.use('bmh')

train_df["Loan_Status"].value_counts(normalize=True).plot.bar(title='Loan Status')
train_df["Loan_Status"].value_counts()

"""**Predict Feature**"""

fig1, ax1= plt.subplots(1,4)

train_df["Gender"].value_counts(normalize=True).plot.bar(figsize=(25,5),ax=ax1[0],title='Gender')
train_df["Married"].value_counts(normalize=True).plot.bar(ax=ax1[1],title='Married',rot=0)
train_df["Self_Employed"].value_counts(normalize=True).plot.bar(ax=ax1[2],title='Self_Employed')
train_df["Credit_History"].value_counts(normalize=True).plot.bar(ax=ax1[3],title='Credit_History')

fig1.tight_layout()

fig1_2, ax1_2= plt.subplots(1,3)

train_df["Dependents"].value_counts(normalize=True).plot.bar(figsize=(25,5),ax=ax1_2[0],title='Dependents')
train_df["Education"].value_counts(normalize=True).plot.bar(ax=ax1_2[1],title='Education',rot=0)
train_df["Property_Area"].value_counts(normalize=True).plot.bar(ax=ax1_2[2],title='Property_Area')

fig1_2.tight_layout()

fig2, ax2= plt.subplots(1,4,figsize=(25,5))

sns.distplot(train_df['ApplicantIncome'],ax=ax2[0])
sns.distplot(train_df['CoapplicantIncome'],ax=ax2[1])
sns.distplot(train_df['LoanAmount'],ax=ax2[2])
sns.distplot(train_df['Loan_Amount_Term'],ax=ax2[3])

fig2.tight_layout()

"""### ความสัมพันธ์ระหว่าง Target กับ Feature ต่างๆ

"""

fig4, ax4= plt.subplots(1,4)

Gender_T=pd.crosstab(train_df["Gender"],train_df["Loan_Status"],normalize=True)
Gender_T.div(Gender_T.sum(1),axis=0).plot.bar(figsize=(25,10),ax=ax4[0],title='Gender')

Married_T=pd.crosstab(train_df["Married"],train_df["Loan_Status"],normalize=True)
Married_T.div(Married_T.sum(1),axis=0).plot.bar(ax=ax4[1],title='Married')

Self_Employed_T=pd.crosstab(train_df["Self_Employed"],train_df["Loan_Status"])
Self_Employed_T.div(Self_Employed_T.sum(1),axis=0).plot.bar(ax=ax4[2],title='Self_Employed')

Credit_History_T=pd.crosstab(train_df["Credit_History"],train_df["Loan_Status"])
Credit_History_T.div(Credit_History_T.sum(1),axis=0).plot.bar(ax=ax4[3],title='Credit_History')

fig4.tight_layout()

fig5, ax5= plt.subplots(1,3)

Dependents_T=pd.crosstab(train_df["Dependents"],train_df["Loan_Status"])
Dependents_T.div(Dependents_T.sum(1),axis=0).plot.bar(figsize=(25,10),ax=ax5[0],title='Dependents')

Education_T=pd.crosstab(train_df["Education"],train_df["Loan_Status"])
Education_T.div(Education_T.sum(1),axis=0).plot.bar(ax=ax5[1],title='Education')

Property_Area_T=pd.crosstab(train_df["Property_Area"],train_df["Loan_Status"])
Property_Area_T.div(Property_Area_T.sum(1),axis=0).plot.bar(ax=ax5[2],title='Property_Area')

fig5.tight_layout()

fig6, ax6= plt.subplots(1,2)

ApplicantIncome_T = train_df.groupby("Loan_Status")['ApplicantIncome'].mean()
ApplicantIncome_T.plot.bar(figsize=(25,10),ax=ax6[0])

CoapplicantIncome_T = train_df.groupby("Loan_Status")['CoapplicantIncome'].mean()
CoapplicantIncome_T.plot.bar()

fig6.tight_layout()

"""### Outlier

"""

train_df['ApplicantIncome'].plot.box(figsize=(16,5))
#พบค่า Outlier อยู่ใน ApplicantIncome โดยจะนำไปจัดการในส่วนต่อไป

#มี 3 row ที่มากกว่า 50000 เลยนับเป็น Outlier ไป
train_df[train_df['ApplicantIncome'] > 50000]

#drop outlier โดยจำกัดค่า ApplicantIncome ให้สุดแค่ 50000
train_df = train_df[train_df['ApplicantIncome'] < 50000]

"""### Corration"""

f, ax = plt.subplots(figsize=(25,10))
sns.heatmap(train_df.corr(), square=True,annot=True);

"""# Clean Data : Train"""

train_df
#row ลดลงจากการ drop outlier ไปก่อนหน้านี้

train_df.describe()

train_df.isnull().sum()

"""### Fill null : Gender"""

#มี null 12 row
train_df[train_df.Gender.isnull()]

figTrain_G, axTrain_G= plt.subplots(1,2)

train_df["Gender"].value_counts(normalize=True).plot.bar(figsize=(25,5),ax=axTrain_G[0],title='Gender')

Gender_M=pd.crosstab(train_df["Gender"],train_df["Married"],normalize=True)
Gender_M.div(Gender_M.sum(1),axis=0).plot.bar(figsize=(25,10),ax=axTrain_G[1],title='Gender')

figTrain_G.tight_layout()
#กราฟแสดงให้เห็นว่าผู้ชายส่วนใหญ่แต่งงานแล้ว จึงใช้เป็นตัวกำหนดในการ clean

#ในการ clean กำหนดให้ row ที่เป็น null และแต่งงานแล้วถือเป็นผู้ชาย และที่เหลือเป็นผู้หญิง
train_df.loc[(train_df.Gender.isnull())&(train_df.Married=='Yes'),'Gender'] = 'Male'
train_df.loc[(train_df.Gender.isnull())&(train_df.Married=='No'),'Gender'] = 'Female'
train_df[train_df.Gender.isnull()]

"""### Fill Null : Married          """

#มี null 3 row
train_df[train_df.Married.isnull()]

#การ clean ในส่วนของ Married ใช้หลักการเดียวกับ Gender คือถ้าเป็นเพศเป็นชาย จะถือว่าแต่งงานแล้ว
train_df.loc[(train_df.Married.isnull())&(train_df.Gender=='Male'),'Married'] = 'Yes'
train_df.loc[(train_df.Married.isnull())&(train_df.Gender=='Female'),'Married'] = 'No'
train_df[train_df.Married.isnull()]

"""### Fill Null : Dependents       """

#เพื่อให้ clean ง่ายขึ้นเลยเปลี่ยน Dependents จาก obj เป็น int ก่อน
train_df["Dependents"] = train_df["Dependents"].map({"0": 0, "1": 1,"2": 2, "3+": 3})
test_df["Dependents"] = test_df["Dependents"].map({"0": 0, "1": 1,"2": 2, "3+": 3})

#มี null 15 row
train_df[train_df.Dependents.isnull()]

DvsLS=pd.crosstab(train_df["Dependents"],train_df["Loan_Status"],normalize=True)
DvsLS.div(DvsLS.sum(1),axis=0).plot.bar(figsize=(25,10),title='Dependents VS Loan_Status')
#จากกราฟเห็นได้ว่าผู้ที่มี Dependents 2 คน มีโอกาศกู้เงินมากที่สุด และการมี Dependents 1 คนมีโอกาศกู้เงินน้อยที่สุด

#จากที่กล่าวข้างต้นจึงให้ Dependents ที่เป็น null และ ได้การกู้เงิน มี Dependents 2 คน ค่าที่เหลือให้เป็น 1 คน
train_df.loc[(train_df.Dependents.isnull())&(train_df.Loan_Status=='Y'),'Dependents'] = 2
train_df.loc[(train_df.Dependents.isnull()),'Dependents'] = 1
train_df[train_df.Dependents.isnull()]

"""### Fill Null : Self_Employed     """

#มี null 31 row
train_df[train_df.Self_Employed.isnull()]

SEvsLS=pd.crosstab(train_df["Self_Employed"],train_df["Credit_History"],normalize=True)
SEvsLS.div(SEvsLS.sum(1),axis=0).plot.bar(figsize=(25,10),title='Self_Employed VS Credit_History')

SEvsLS
#จะเห็นได้ว่า freelancer มีโอกาศมีCredit_Historyผ่านเกณฑ์น้อยกว่า  ผู้ที่ทำงานกับบริษัท

#จึง fill ค่า Self_Employed ที่มี Credit_History ด้วย No และค่าที่เหลือเป็น Yes
train_df.loc[(train_df.Self_Employed.isnull())&(train_df.Credit_History==1.0),'Self_Employed'] = 'No'
train_df.loc[(train_df.Self_Employed.isnull()),'Self_Employed'] = 'Yes'
train_df[train_df.Self_Employed.isnull()]

"""### Fill Null : LoanAmount"""

#มี null 22 row
train_df[train_df. LoanAmount.isnull()]

train_df["LoanAmount"].median()

#Fill ด้วยค่า median คือ 127.0
train_df["LoanAmount"].fillna(train_df["LoanAmount"].mode()[0],inplace=True)
train_df["LoanAmount"].fillna(train_df["LoanAmount"].median(),inplace=True)

"""### Fill Null : Loan_Amount_Term     """

#มี null 14 row
train_df[train_df.Loan_Amount_Term.isnull()]

train_df["Loan_Amount_Term"].mode()[0]

#ข้อมูลเป็นค่าจำเพาะจึง Fill ด้วยค่า mode คือ 360.0
train_df["Loan_Amount_Term"].fillna(train_df["Loan_Amount_Term"].mode()[0],inplace=True)

"""### Fill Null : Credit_History"""

#มี null 50 row
train_df[train_df.Credit_History.isnull()]

CHvsLS=pd.crosstab(train_df["Credit_History"],train_df["Loan_Status"],normalize=True)
CHvsLS.div(CHvsLS.sum(1),axis=0).plot.bar(figsize=(25,10),title='Credit_History VS Loan_Status')
#การแสดงให้เห็นว่าผู้ที่มี Credit_Historyผ่านเกณฑจะกู้เงินได้ ส่วนคนที่ไม่มีแทบทั้งหมดถูกปฏิเสธการกู้

#จึงถือผู้ที่มี Credit_History ได้รับการอนุมัติให้กู้ ส่วนคนที่ไม่มีก็ถูกปฏิเสธไป
train_df.loc[(train_df.Credit_History.isnull())&(train_df.Loan_Status=='Y'),'Credit_History'] = 1.0
train_df.loc[(train_df.Credit_History.isnull()),'Credit_History'] = 0.0
train_df[train_df.Credit_History.isnull()]

train_df.isnull().sum()

"""#Clean Data : Test"""

test_df.describe()

test_df.isnull().sum()

"""### Fill Null : Gender"""

#มี null 11 row
test_df[test_df.Gender.isnull()]

figTest_G, axTest_G= plt.subplots(1,2)

test_df["Gender"].value_counts(normalize=True).plot.bar(figsize=(25,5),ax=axTest_G[0],title='Gender')

Gender_M=pd.crosstab(test_df["Gender"],test_df["Married"],normalize=True)
Gender_M.div(Gender_M.sum(1),axis=0).plot.bar(figsize=(25,10),ax=axTest_G[1],title='Gender')

figTest_G.tight_layout()
#เหมือนกับใน train สัดส่วนของผู้ชายที้แต่งงานแล้วมีมากกว่าผู้หญิง

#จึงถือว่าหากแต่งงานแล้ว จะเป็นเพศชาย หากไม่จะเป็นเพศหญิง
test_df.loc[(test_df.Gender.isnull())&(test_df.Married=='Yes'),'Gender'] = 'Male'
test_df.loc[(test_df.Gender.isnull())&(test_df.Married=='No'),'Gender'] = 'Female'
test_df[test_df.Gender.isnull()]

"""### Fill Null : Dependents"""

#มี null 10 row
test_df[test_df.Dependents.isnull()]

test_DvsCH=pd.crosstab(test_df["Dependents"],test_df["Credit_History"],normalize=True)
test_DvsCH.div(test_DvsCH.sum(1),axis=0).plot.bar(figsize=(25,10),title='Dependents VS Credit_History')
#จากกราฟเห็นได้ว่าผู้ที่มี Dependents 1 คน มีโอกาศกู้เงินมากที่สุด และการมี Dependents 3 คนขึ้นไปมีโอกาศกู้เงินน้อยที่สุด

#จากที่กล่าวข้างต้นจึงให้ Dependents ที่เป็น null และ ได้การกู้เงิน มี Dependents 1 คน ค่าที่เหลือให้เป็น 3 คน
test_df.loc[(test_df.Dependents.isnull())&(test_df.Credit_History==1.0),'Dependents'] = 1
test_df.loc[(test_df.Dependents.isnull()),'Dependents'] = 3
test_df[test_df.Dependents.isnull()]

"""### Fill Null : Self_Employed"""

#มี null 23 row
test_df[test_df.Self_Employed.isnull()]

test_SEvsCH=pd.crosstab(test_df["Self_Employed"],test_df["Credit_History"],normalize=True)
test_SEvsCH.div(test_SEvsCH.sum(1),axis=0).plot.bar(figsize=(25,10),title='Self_Employed VS Credit_History')

test_SEvsCH
#จะเห็นได้ว่า freelancer มีโอกาศมีCredit_History น้อยกว่า  ผู้ที่ทำงานกับบริษัท

#จึง fill ค่า Self_Employed ที่มี Credit_History ด้วย No และค่าที่เหลือเป็น Yes
test_df.loc[(test_df.Self_Employed.isnull())&(test_df.Credit_History==1.0),'Self_Employed'] = 'No'
test_df.loc[(test_df.Self_Employed.isnull()),'Self_Employed'] = 'Yes'
test_df[test_df.Self_Employed.isnull()]

"""### Fill Null : LoanAmount"""

#มี null 5 row
test_df[test_df.LoanAmount.isnull()]

test_df["LoanAmount"].median()

#Fill ด้วยค่า median คือ 125.0
test_df["LoanAmount"].fillna(test_df["LoanAmount"].median(),inplace=True)

"""### Fill Null : Loan_Amount_Term """

#มี null 6 row
test_df[test_df.Loan_Amount_Term.isnull()]

test_df["Loan_Amount_Term"].mode()[0]

#Fill ด้วยค่า ทนกำ คือ 360.0

test_df["Loan_Amount_Term"].fillna(test_df["Loan_Amount_Term"].mode()[0],inplace=True)

"""### Fill Null : Credit_History"""

#มี null 29 row
test_df[test_df.Credit_History.isnull()]

#ด้วยการที่ไม่มี column  Loan_Status ใน train จึง fill ด้วยค่า mode ไปเลย
test_df['Credit_History'].fillna(test_df['Credit_History'].value_counts().index[0], inplace=True)

test_df.isnull().sum()

"""# Pre Process"""

train_df.info()

#เปลี่ยนค่าต่างๆให้อยู่ในรูป 0,1,2 (Dependents ทำไปก่อนหน้านี้แล้ว)
train_df["Gender"] = train_df["Gender"].map({"Male":0,"Female":1})

train_df["Married"] = train_df["Married"].map({"Yes":1,"No":0})

train_df["Education"] = train_df["Education"].map({"Graduate":1,"Not Graduate":0})

train_df["Self_Employed"] = train_df["Self_Employed"].map({"Yes":1,"No":0})

train_df["Property_Area"] = train_df["Property_Area"].map({"Rural":0, "Semiurban":1, "Urban": 2,})

train_df["Loan_Status"] = train_df["Loan_Status"].map({"Y":1,"N":0})

train_df

test_df.info()

test_df["Gender"] = test_df["Gender"].map({"Male":0,"Female":1})

test_df["Married"] = test_df["Married"].map({"Yes":1,"No":0})

test_df["Education"] = test_df["Education"].map({"Graduate":1,"Not Graduate":0})

test_df["Self_Employed"] = test_df["Self_Employed"].map({"Yes":1,"No":0})

test_df["Property_Area"] = test_df["Property_Area"].map({"Rural":0, "Semiurban":1, "Urban": 2,})

"""#Add more feature"""

#เพิ่ม Feature มาอีก 4 feature คือ
#total_income เกิดจากผลรวมของรายรับของทั้งผู้กู้และคนค้ำ
train_df['total_income'] = train_df['ApplicantIncome'] + train_df['CoapplicantIncome']

#total_income_by_LoanAmount เกิดจาก total_income หารด้วย LoanAmount
train_df['total_income_by_LoanAmount'] = train_df['total_income'] / train_df['LoanAmount']
#ApplicantIncome_by_LoanAmount เกิดจาก ApplicantIncome หารด้วย ApplicantIncome
train_df['ApplicantIncome_by_LoanAmount'] = train_df['ApplicantIncome'] / train_df['LoanAmount']
#Loan_Amount_Term_By_LoanAmount เกิดจาก LoanAmount หารด้วย Loan_Amount_Term
train_df['Loan_Amount_Term_By_LoanAmount'] = train_df['LoanAmount'] / train_df['Loan_Amount_Term']

#เนื่องจากมี total_income แล้วจึง drop ApplicantIncome และ CoapplicantIncome ลงไปได้
train_df.drop(['ApplicantIncome','CoapplicantIncome'],axis=1,inplace=True)

#เพิ่ม Feature มาอีก 4 feature เหมือนกับ Train 
test_df['total_income'] = test_df['ApplicantIncome'] + test_df['CoapplicantIncome']
test_df['total_income_by_LoanAmount'] = test_df['total_income'] / test_df['LoanAmount']
test_df['ApplicantIncome_by_LoanAmount'] = test_df['ApplicantIncome'] / test_df['LoanAmount']
test_df['Loan_Amount_Term_By_LoanAmount'] = test_df['LoanAmount'] / test_df['Loan_Amount_Term']

test_df.drop(['ApplicantIncome','CoapplicantIncome'],axis=1,inplace=True)

"""Corration"""

f, ax = plt.subplots(figsize=(25,10))
sns.heatmap(train_df.corr(), square=True,annot=True);

"""# train test split

"""

#ลบ Loan_ID จากทั้ง train และ test 
try:
  del train_df['Loan_ID']
  del test_df['Loan_ID']
except:
    pass

X = train_df.drop(['Loan_Status'], axis = 1 )
y = train_df['Loan_Status']

#แยก train_test_split ด้วยขนาด 80:20 และใช้ random_state ที่ 3 ซึ่งเป็น random_state ที่ดีที่สุดจากที่ทดลองมา
X_train ,X_test , y_train , y_test = train_test_split(X , y , test_size = 0.20 , random_state =3)

"""# Select Machine learning to start with

ทดสอบหาโมเดลที่ดีที่สุดโดยใช้ ทดสอบจากทั้ง 12 โมเดล
"""

#Logistic Regression
lr = LogisticRegression()
lr.fit(X_train , y_train)
pred_lr = lr.predict(X_test)
predic_lr = lr.predict(test_df)

#Linear Discriminant Analysis
lda = LinearDiscriminantAnalysis()
lda.fit(X_train , y_train)
pred_lda = lda.predict(X_test)

predic_lda = lda.predict(test_df)

#XGBoost
xgb = XGBClassifier()
xgb.fit(X_train , y_train)
pred_xgb = xgb.predict(X_test)

predic_xgb = xgb.predict(test_df)

plot_tree(xgb)
fig = plt.gcf()
fig.set_size_inches(25, 10)

#Naive Bayes
nb = GaussianNB()
nb.fit(X_train , y_train)
pred_nb = nb.predict(X_test)

predic_nb = nb.predict(test_df)

#K-Nearest Neighbors (KNN)
knn = KNeighborsClassifier()
knn.fit(X_train , y_train)
pred_knn = knn.predict(X_test)

predic_knn = knn.predict(test_df)

#Random Forest
rf = RandomForestClassifier()
rf.fit(X_train , y_train)
pred_rf = rf.predict(X_test)

predic_rf = rf.predict(test_df)

#AdaBoost
ada = AdaBoostClassifier()
ada.fit(X_train , y_train)
pred_ada = ada.predict(X_test)

predic_ada = ada.predict(test_df)

#gradient boosting machine
gbm = GradientBoostingClassifier()
gbm.fit(X_train , y_train)
pred_gbm = gbm.predict(X_test)

predic_gbm = gbm.predict(test_df)

#Support Vector Machines (SVM)
svm =  SVC(probability=True)
svm.fit(X_train , y_train)
pred_svm = svm.predict(X_test)

predic_svm = svm.predict(test_df)

#Support Vector Machines (SVM) ft. StandardScaler
svmSS = make_pipeline(StandardScaler(), SVC(probability=True))
svmSS.fit(X_train , y_train)
pred_svmSS = svmSS.predict(X_test)

predic_svmSS = svmSS.predict(test_df)

#LightGBM 
try:
  lgb = lgb.LGBMClassifier()
except:
    pass
lgb.fit(X_train , y_train)
pred_lgb = lgb.predict(X_test)

predic_lgb = lgb.predict(test_df)

#Logistic Regression
CB = CatBoostClassifier()
CB.fit(X_train , y_train)
pred_CB = CB.predict(X_test)
predic_CB = CB.predict(test_df)

"""feature importance"""

#plot กราฟดูความสำคัญของ feature ต่างๆ โดยมีโมเดลที่รับรอง .feature_importances_ อยู่ 6 โมเดล
fig6, ax6= plt.subplots(1,6)
importances_xgb = pd.Series(xgb.feature_importances_,index=X.columns)
importances_xgb.plot.barh(figsize=(20,5),ax=ax6[0],title='XGBoost')

importances_rf = pd.Series(rf.feature_importances_,index=X.columns)
importances_rf.plot.barh(ax=ax6[1],title='Random Forest')

importances_ada = pd.Series(ada.feature_importances_,index=X.columns)
importances_ada.plot.barh(ax=ax6[2],title='Adaboost')

importances_gbm = pd.Series(gbm.feature_importances_,index=X.columns)
importances_gbm.plot.barh(ax=ax6[3],title='Gradient Boosting Machine')

importances_lgb = pd.Series(lgb.feature_importances_,index=X.columns)
importances_lgb.plot.barh(ax=ax6[4],title='LightGBM')

importances_lgb = pd.Series(CB.feature_importances_,index=X.columns)
importances_lgb.plot.barh(ax=ax6[5],title='LightGBM')
fig6.tight_layout()
#จากการฟจะเห็นได้ว่า Credit_History มีความสำคัญต่อโมเดลมากที่สุด

"""Auc and Accuracy test"""

#ทำการตรวจสอบความแม่นยำโดยใช้ area under the curve score และ Accuracy score
ml = [lr, lda, xgb, nb,knn,rf,ada,gbm,svm,svmSS,lgb,CB]
ml_name = ['Linear Regression','Linear Discriminant Analysis','XGBoost','Naive Bayes','AdaBoost','K-Nearest Neighbors (KNN)','Random Forest','AdaBoost','gradient boosting machine','Support Vector Machines (SVM)','SVM ft. StandardScaler','Catboost']
new_auc_score = []
Best_auc_score = 0
Best_auc_ML = 0

new_acc_score = []
Best_acc_score = 0
Best_acc_ML = 0
for i in ml:
  pred_prob = i.predict_proba(X_test)
  fpr, tpr, thresh = roc_curve(y_test, pred_prob[:,1], pos_label=1)

  random_probs = [0 for i in range(len(y_test))]
  auc_score = roc_auc_score(y_test, pred_prob[:,1])
  new_auc_score.append(auc_score)
  if auc_score > Best_auc_score:
    Best_auc_score = auc_score
    Best_auc_ML = i
  
  acc_Pred = i.predict(X_test)
  new_acc_score.append(accuracy_score(acc_Pred, y_test))
  if accuracy_score(acc_Pred, y_test) > Best_acc_score:
    Best_acc_score = accuracy_score(acc_Pred, y_test)
    Best_acc_ML = i

score_df = pd.DataFrame(list(zip(ml_name, new_auc_score, new_acc_score)),columns=['Name','Auc Score', 'Accuracy'])
score_df

print("Best AUC Score = " ,Best_auc_score)
print("Best AUC ML = " ,Best_auc_ML)
print("Best ACC Score = " ,Best_acc_score)
print("Best ACC ML = " ,Best_acc_ML)

"""จากการนำผลลัพธ์ของแต่ละโมเดลไปตรวจใน datahack พบว่า XGBoost  และ CatBoost ดีที่สุด โดยได้คะแนนถึง 0.8125

XGBoost</br>
![ภาพ.png](data:image/png;base64,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)

Catboost</br>
![ภาพ.png](data:image/png;base64,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eRxS3Q684vhBSUSzzwiCMe5yMtKMtxZGkF5pmoWcUF3rXYf5r38n3nuinmtGdYGeLeIZozhdEguHRgB0rbyMxXc91gPTHuJiZYF1AelK+30H3RbBvqon6rjDobmLTsWCl6PfW1l7eAmHNhuLYKtYsLwAh1p+hHX3nItg+73vqvbwkq97Buv7kWO5V6SznPwcs30zV/ij6Il1799YE3W8WgcnEw6nupzsi2AD+jk8WWK9t7LL/YgBYwhCBiq6vU+wYxFsAL7K19XMhUPZimrrLp+v4RBwWwTbeZ9w7fE3aNi10XZd+Tl3RDTjbPdHdr238kgzClTnclTx17XedVh89a9H3ngx1zmcQ8T4IffJAzRn8bwRERHNaS9sONQX7E1gRirNKp43IiKiue0FDYf/w90ThVgVc+wWzS08b0RERHPdCxoOiYiIiGg6MBwSERERkcRwSEREREQSwyERERERSQyHRERERCQxHBIRERGRxHBIRERERBLDIRERERFJDIdEREREJDEcEhEREZHEcEhEREREEsMhEREREUkMh0REREQkMRwSERERkcRwSEREREQSwyERERERSQyHRERERCQxHBIRERGRxHBIRERERBLDIRERERFJ/wfNqPIgfQHMTAAAAABJRU5ErkJggg==)

#eXtreme Gradient Boosting Hyperparameter Tuning

ในขั้นตอนสุดท้ายเราเลือกให้ XGBoost เป็นโมเดลหลัก และนำมาทำ Hyperparameter Tuning โดยใช้ GridSearchCV และ RandomizedSearchCV
"""

#tuning model ด้วย parameter ตามข้างล่างโดยอิงจากค่า default และค่าที่ดีที่สุดจาดที่เคยทดลองมา
params = {"colsample_bytree" : [0.7,0.8,1],
          "eta" : [0.01],
          "gamma": [0.3,0,1,5],
          'learning_rate': [0.1,0.01],
          "max_depth": [3,6],
          "min_child_weight" : [ 3 ],
          "subsample" : [0.7,0.8,1],
        }
#สำหรับ XGBoost จะ tune ด้วย GridSearchCV และ RandomizedSearchCV
#Parameter ที่ดีที่สุดที่เคยทดลองมา 
#best GS
#{'subsample': 0.7, 'min_child_weight': 3, 'max_depth': 3, 'learning_rate': 0.1, 'gamma': 0.3, 'eta': 0.01, 'colsample_bytree': 0.7}
#{'subsample': 1, 'min_child_weight': 3, 'max_depth': 6, 'learning_rate': 0.01, 'gamma': 0.3, 'eta': 0.01, 'colsample_bytree': 1}

#Best RS
#{'subsample': 0.7, 'min_child_weight': 3, 'max_depth': 3, 'learning_rate': 0.1, 'gamma': 0.3, 'eta': 0.01, 'colsample_bytree': 0.7}//Best
#{'colsample_bytree': 0.7, 'eta': 0.01, 'gamma': 0.3, 'learning_rate': 0.1, 'max_depth': 3, 'min_child_weight': 3, 'subsample': 0.7}
#{'colsample_bytree': 0.7, 'eta': 0.01, 'gamma': 0.3, 'learning_rate': 0.1, 'max_depth': 3, 'min_child_weight': 3, 'subsample': 0.7}

#tune ด้วย GridSearchCV และ ทดสอบคะแนนด้วย Mean Squared Error
clf_gs = GridSearchCV(estimator=xgb, 
                   param_grid=params,
                   scoring='neg_mean_squared_error', 
                   verbose=2)
clf_gs.fit(X, y)

print("Best parameters:", clf_gs.best_params_)
print("Lowest MSE: ", (-clf_gs.best_score_)**(1/2.0))

#โมเดลที่มารองรับ Parameter จาก GridSearchCV
#โมเดลหลัก
gbtree_params = clf_gs.best_params_
xgb_1 = XGBClassifier(**clf_gs.best_params_)
xgb_1.fit(X_train , y_train)
pred_xgb_1 = xgb_1.predict(X_test)

predic_xgb_1 = xgb_1.predict(test_df)

#plot กราฟแสดง feature importances
importances_xgb_1 = pd.Series(xgb_1.feature_importances_,index=X.columns)
importances_xgb_1.plot.barh(title='XGBoost')

plot_tree(xgb_1)
fig = plt.gcf()
fig.set_size_inches(25, 10)

#tune ด้วย RandomizedSearchCV และ ทดสอบคะแนนด้วย Mean Squared Error
#RandomSearchCV
clf_rs = RandomizedSearchCV(estimator=xgb,
                         param_distributions=params,
                         scoring='neg_mean_squared_error',
                         n_iter=25,
                         verbose=3)
clf_rs.fit(X, y)

print("Best parameters:", clf_rs.best_params_)
print("Lowest MSE: ", (-clf_rs.best_score_)**(1/2.0))

#โมเดลที่มารองรับ Parameter จาก RandomizedSearchCV
rs_params = clf_rs.best_params_
xgb_2 = XGBClassifier(**rs_params)
xgb_2.fit(X_train , y_train)
pred_xgb_2 = xgb_2.predict(X_test)

predic_xgb_2 = xgb_2.predict(test_df)

#plot กราฟแสดง feature importances
importances_xgb_2 = pd.Series(xgb_2.feature_importances_,index=X.columns)
importances_xgb_2.plot.barh(title='XGBoost')

plot_tree(xgb_2)
fig = plt.gcf()
fig.set_size_inches(25, 10)

"""# AUC score and Accuracy test"""

#ทำการตรวจสอบความแม่นยำโดยใช้ area under the curve score และ Accuracy score
ml = [xgb,xgb_1, xgb_2,CB]
ml_name = ['Original xgb','xgb_GridSearch', 'xgb_RandomSearch','CB']
new_auc_score = []
Best_auc_score = 0
Best_auc_ML = 0

new_acc_score = []
Best_acc_score = 0
Best_acc_ML = 0
for i in ml:
  # predict probabilities foe each machine learning
  pred_prob = i.predict_proba(X_test)
  # roc curve for models
  fpr, tpr, thresh = roc_curve(y_test, pred_prob[:,1], pos_label=1)

  # roc curve for tpr = fpr 
  random_probs = [0 for i in range(len(y_test))]
  # auc scores
  auc_score = roc_auc_score(y_test, pred_prob[:,1])
  new_auc_score.append(auc_score)
  if auc_score > Best_auc_score:
    Best_auc_score = auc_score
    Best_auc_ML = i
  
  acc_Pred = i.predict(X_test)
  new_acc_score.append(accuracy_score(acc_Pred, y_test))
  if accuracy_score(acc_Pred, y_test) > Best_acc_score:
    Best_acc_score = accuracy_score(acc_Pred, y_test)
    Best_acc_ML = i


score_df = pd.DataFrame(list(zip(ml_name, new_auc_score, new_acc_score,)),columns=['Name','Auc Score', 'Accuracy'])
score_df

"""# Submission

สร้างไฟล์ Submission โดยใช้ Loan_ID จากไฟล์  Sample Submission ที่ทางเว็บให้มาและค่าที่ได้จากการ predict
"""

#XGBoost 
submission = pd.DataFrame({
        "Loan_ID": sample_sub["Loan_ID"],
        "Loan_Status": predic_xgb
    })
submission['Loan_Status'] = submission['Loan_Status'].replace(1,'Y')
submission['Loan_Status'] = submission['Loan_Status'].replace(0,'N')

submission.to_csv("results_xgb.csv", encoding='utf-8', index=False)
files.download("results_xgb.csv")

"""![ภาพ.png](data:image/png;base64,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)"""

#โมเดลหลัก : XGBoost ที่ tune ด้วย GridSearch
submission = pd.DataFrame({
        "Loan_ID": sample_sub["Loan_ID"],
        "Loan_Status": predic_xgb_1
    })
submission['Loan_Status'] = submission['Loan_Status'].replace(1,'Y')
submission['Loan_Status'] = submission['Loan_Status'].replace(0,'N')

submission.to_csv("results_xgb_1.csv", encoding='utf-8', index=False)
files.download("results_xgb_1.csv")

"""![ภาพ.png](data:image/png;base64,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)"""

#XGBoost ที่ tune ด้วย RandomSearch
submission = pd.DataFrame({
        "Loan_ID": sample_sub["Loan_ID"],
        "Loan_Status": predic_xgb_2
    })
submission['Loan_Status'] = submission['Loan_Status'].replace(1,'Y')
submission['Loan_Status'] = submission['Loan_Status'].replace(0,'N')

submission.to_csv("results_xgb_2.csv", encoding='utf-8', index=False)
files.download("results_xgb_2.csv")

"""
![ภาพ.png](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZEAAAB0CAYAAABE3w/SAAAZsElEQVR4nO2d628U573Hz7+yL2alXelshIGcLRgB5uqCqSEmQAhx3cBxoQbZXAxOqEvgIPDBQq5NAxgLIpM45bIWluEASoCkENNCVRsLOIBrh5ZtFxVrXsw/8D0v5nlm5/LM7nq86wvnO9LnBbuzFw/2853nd/n+/g22Y+Tv/ySEEEJy5t8oIoQQQoLiEBHDMAghhJCcoYgQQggJDEWEEEJIYCgihBBCAkMRIYQQEhiKCCGEkMBQRAghhASGIkIIISQwFBFCCCGBoYgQQggJDEWEEEJIYCgihBBCAkMRIYQQEhiKCCGEkMBQRAghhASGIkIIISQwFBFCCCGBoYgQQggJDEWEEEJIYCgihBBCApM/EdGfI3GgEsviRQhpEYS0Isx6rw6nvnsJfQr8oIQQQvJPfkREH0BLeQyh6EKsrW9DZ6Ibl79sQ82KIoS0Iqw+PTj29+zdiZAWwfbeyb9IhBBC1ORFRFIXtyGsxVD1ddL1XBJdm2MIRbfh96kxvi9FhBBCpjx5EZFHreUIaeVoGfQ+l+quR/GC5fjslnxMx4/fnUHNe3MRtcJeDUg8083nB9tQqkVESEyyEz1T4GIRQghxksedSAQLGr7FqyznvurdidlaDHOqmkXYqxkb4xGE4vW4ljJg6K/xcngEw1/+CiEtgv/8cgTDw//AmylwsQghhDjJU2I9iZ7aYoS0CKIllWhsv40/J0cV573A2S2LULzpDB7ZHte/+RQztAiqvk6lz2U4ixBCpjx5LPEdxeNLB7GhpMgKQ0VLKtHY/Tx7dZYIYZW2DqYfo4gQQsiUpyB9Im+Sf0FvawPWzoshpMWw6MAdpKznhdj8VOZE0lBECCFkelHYZkP9JS7WxG1Jdx19TSsQ1oqxsSmBe09GMDw8guHvj2IJRYQQQqYdeRCRPjStWoTiqrN4onreIQY3UBeNIFx71RniYjiLEEKmJXkQkRR6as3dRnO/7npOR9/hZQhpJTh034BhXMV2LYJQzRWHiLzq3oEZFBFCCJl25CeclbyKunmujvVEB45sWYWoFsHs2qui9DeF31fHENKKsHxHGzpt53hyIg+bsUCLYHb173A5cRMDKQNShBznEUIImTTylxMZfYLe1jqUF7+LsBZBSIvhneL3UdP+PX7Ubefpz5HYuwbvRG2Nho8T2OrZoSRx84A4L7oeJ58aoIgQQsjUYnq5+Pa3YIkWwbqzI5P/XQghhEwvEXnRvj6YDxeZcPTbjZitRRDefEHhYiA81bRlOHTfnkdzW+JEEI2XYcOBBB6Put5DaY8TQTSu2P0SQgrGNBKRH3Ft7yqsbh2gtfy0IIVru4sR0orxyW1nwUXqej1maxHM3n/H9n+po7+1AmEtguiKahxp78blRBdadpghzXB5G/rtwiBEZO72dlxOdAs60Lh+IcKe9548emrp/UbebqaRiJBpR/IqtscjCC0+ij4pAPp9HFps80qT54pCihk1Cc8uwvRbi2BB08P046qycMOAYSTR+fMIQlo1uqbAjpUiQt52KCKkoJjl2zGUfT4Iw5COz3Fs7XaODbi1396U6mYAzcsjCC1vQb98zFdE/Fylk/hDex3K5dC02FyU71WEyQwDr+56XaYvPvZ6wb15nMAex3l1OHU3afsOrnBb7dVJ//8gJN9QREiBkTNlqtH1+AKqoqo8yVOcKI8gNP8o+nJ9X18R0XGzIY6QtgkdI/IxGVorwvK9Hbic6EZn63YsUoTJZKgtuqIBp8VwtV8ujSEUrUCLvQ9q6BzWRSMIL603z0t0oG5pzArf6a//huHhEXRujSCk/QqdwyMYVpqSEjK9oYiQwiMX3GgMoegmdAy5z7mPQ/MjCK1sc7g7Z0QlIvprDJzfZuZbdt9I+7WJUFnpcWc+TYbJ1rQPicce4sjiCEIrW5z5FxmWW3sGL8RjTz6vQEhbieZ++3lfYZMWQXj3DesxhrPI2w5FhEwAOq7vmY2QFsG/77mpSHgLJ4MAIuIJGWkR/Me2S3huE4G+wyWunYlEiNcH5zBiGDDuH8VcnxJy93uYM3TiqDr3JOOsG4oIeduhiJCCo/e3oFSLIBor8oaFDAN+OxFzAfaZcKmszkqHqaIVJ63dRKaFvKc2gtCsRtwyjMxWO707EdLi+OS2+Lf+HF2/MivBQrG5KN/yGVquPkJKV7w/RYS8xVBESIEZxInyGEKzdqLn2RVsnRVBuPyka8ehzom8+EGKQzu2zVeLiCqx/urraoS1GDZfNIec+S/kOhI1uYmI3r3DKSLi9annfbjU+hl+IRLs4Xmb8cVg+hyKCHnboYiQgvLi7CaEtRiqvk46/r3u7JDjvAdNyxTNh5JBtKzMXUTcz+U/nKUj9XIEwy9fO0Jzbx42o5Q5EfL/DIoIKRxJUY3l2HkIQYhWoytpO1cm38tb8NBTdjs2ETF3IrZxy3lPrI+g44MIQrM+xU1H+EqIkq2UlyJC3nYoIqRA+FmbGNDvHxWNhVccpb6veusxJxpBeN5G7G7tMkNZX7Zht+xC/+h8Wox8ciKnD2zEnGgEoXgjblkLfP5LfD3nJbpwpGqhI4xmGHKHVYzNbd24fOORbcInIW8HFBFSEOSMGLX9SNoSZXuvs+nwzeMEGj8sw6yYSKZH38VP3qvGkUuuKiif6qzwzAUo33EGf0i6PzP/zYbO82J4Z0klGrufO3/e5Ldo/JnpbB2uOKMe3EbINIYiQgghJDD5ERHVXWFsLsp3tKFXcQc3kbwZ6kPngUrM35vZciLX8xyMPsHFve/jJzNjWe5udfz4XRs+XiJnrYg5Ks/cSeRRPL7UYJvJ4n8XLM8f+uErNH64BHs4AZKQ/CD+ruVuODyzFB+33lO4USvQnyNhe63pKu3/Wv31I/S21mHlBnfFovO7ZF9jRJ5O1Ts1lv6rAORVROzx6c7WBqwV0w7rXCGLwpNeXKWluNq3KNfzVL8sA2gpjyEUW4UaEb/vbKoy7c9dJazSFn12xUERZ29G5byYK7ksXWzl1EfzvI3xCELRCpwYtP9i/RX3zh/EhpIi6xeFY4QJyQdD6PgghlC0FL8Uf9en95rTVxccvp/FGVq+diEqm8Rrd5cirMVQ5nAf15EauGY5VPsu9GNYY6zik0WV2LVnn5Nj183qwwKRVxHxVMroz9G5Oe5dBAuN+D7Rkko0nr+I/ct9xCHX8xSMnN2EkBZH/TfOeRjmTHl7P0EKXZsVlTzisy1n2pFzWKdFMKPhW8cvqpWE3n/Hesw09yvC/A8PovPCZ1hCESEkP4gy73TFngHDSKGnNp59lpHytdI7bid6rL9/06EhPHMNalqvoXWrWkRyX2PS77nk+MCEX7PCiohhWH5CnsXx5fdo2VLqHJPrCe+4wkDRd1Hy4TH8z0tVL4GN1CP8cUDW8AuFVolDrucp8C3d9DSs3UBd1CkCJsKZVvYo+Da6CUsQ2/dKDTzAwGvdce0pIoSMH9MTzdtTpG42ddG7EyGtBIfuOx/3ukoP4eEPf7UKRXpq1SKS+xpjwEhdQNUkTX0tvIhYd+KiK9gwrLr78NLtaPnS5oDqMueTdfyzP2p2hnfiO9Hjqb7xI1dxGJuI+JH6utr5C/P0JMp83GYTNTnEK8Uvh+9ceYoIIXnj2u6YeuEWo7kz/p3dbsQMLYKt3c6bXLNR1X++jZ+I+OFZYwzDWgfmV1SiRORPovH3scddLVgAJkBE3IoqtoazdiBhFwLRmJa+Y5eNX66LO3QGazItqh4mUETEwKXwB+cst9dM1yZ7I5rYuiqdb53vTxEhZPz4/k1mWeNMhMVPfCcuDo3CjKQcRVk086TNMYmIao0xDGt3El1RjV+3dqVz0ja3iEIx8SKiX8V2ZXhHVBfIi+lrQZHCwI1uXP5hKMfvN1EikkRPbbE3/zMOETF3YumBTpmuPUWEkPEzPhExYCRvYd9iZ3XUu9sTGNKzfGZOIuKzxhgGTCuevzkNQKXTgj0KVAAmXkQyWHg7qhQyOapKxDlKl1eLcYqI5/uqpu/Jyipv81xQEdH728w7mNqrmUsLKSKE5I1xiYg+gBMVRQjFVmFPu6hSbdqMOdEYypru+7oV5CYiGdaYDPQfX5lhYmh+mAARkT5DQg197CospDVELiIy1Od6fZ9zi2cYGLeIpB7huuMzbmLAEdtMl+au/nzAu2UNkBORAmK3M8927SkihIyf8eREXrSvV9r8vDr/MULaMhx5qH5ddhHJssZkwCwImO4iInIYVnWWSBS7q7U8iP80y0TPdkFTL8cyarSw4Swr5NTq959rVmfZnV1NXNVZEll04PJ0ynbtKSKEjB+zOqsCJ546H8+lOivoLiabiGRfY0Zw7dg+7PrdHc9ux1sZln8K3CcimmUcMbwRfPGRWYl16n9div1Nwla+exeNrpGkhmFYCXirvyIrhRORV3ePoiwaw5zdmUJOKfy+OubpE5H9H45rlryHQ+UxhOfV5159RhEhJH8Ix+fsvR5ezCqs9TjlKoKR822296pbEzKJSG5rjIFb++NeZ2x9AM0rIwgtbsaDAl6zAnas12HlTHXHugzXhOLr0Ngu3VfXmWp7/CH+JS+gosS3cl5sSpT4Wj/Dknp0qMJyttCaFIy0M6yiVFkKrlaKurOq9+vGPVWFVgYRMe9CaENOSO5IwcjSdT7ShY9nFmHOAVvVlRhnYF/XzJxI5siCn4iMZY2xRinM24wjXwpX6Y/UJqf5pmDeWaabqr93lv7sCho/lM2GwgHV7dSqajbc0oY72ZoNHRRGRMwFOkOBgGvxfnU3i3dWtoIDv90GRWQMeBs3Ca+XB5f/ldI7a6QLlbEIZu++4QghmetameO1Gw6o3aIlfiIy1jVGuaZOmz4RMgVxjX6dBLwz0iPC2r0Op757WfBfbi+TvCjqz5E4UIll0o5eK8KsSbsWhbheo3h86SA2/NRmj1/8PvbYbw6Fg0Vo8wXfaiX9m08xQxtLyJpMJhSRtxX9W9TPmtw/RFNENuAz+xa8/aBogir8NtvLJIqIlR9ciLX10mCzDTUrihDSirD69ODk/86M63ol0bPbHMo1Z32D5UTRKAeKWaXqIkeoHFdswDB03GyIFzwZTPIHReQt5V8Pz2DjirHkjvKPb7WKELhCW1R7mTwRSV3c5pg1n0bG4LOY+00KuV+vVO9OzNAiKP3vP3tC0qZhYDE+uW2Gb/XenQj7+TzJ3w13QQ2ZslBESMHI1EzpfU7Hj995Jwo6TTnlonYFz7obrCmF4ZlrFB5BOp51N5jFHZaP0GlsVSyK3ljyL9HiCjHJUsnmG1ewR37H6Lso2XIGD0ddOa/YXJTvvYJnuvf1qrvrVHc9ihcsx2e3bN8pF4PS0Se4eCDtlaSM3ct+q/PpCYtW/sw1NyMafx81nXYRyPV6+82cF8gyf+lSIYXCXd5upAXGWR1FpjIUEVIw/EVkCKfWOvM1shZ+TpXbbLMe16w7dLGoxYsxR1ahyBnorgVaVvZZFXHtB7E6HvHOjBk8iTJHVUsHGiu8VS2mCMQQjsmqnS60bCtFWItgxtJSzLbmT6Qft5dvmzuRCBY0fJt9uFEuBqW2WROyO9qqIrLb5AgRCUeL8M7PqrFrzz6cfWB7fbQUde7XW1VIuV5vcV7NFZ/cziiSw/beLhmycoe0dPTUxjKaFZKpB0WEFAyViOivX+CbwxXmIntcLlYvcHbLIhRvOuMc5iUSrOmGU7moucJ0wmet7POn4jHRY7T4KPocXkIiqWuJiOzhcZmBygXWdmdtikgcW7vt4agkOn8eUTx+H4fmRxAqP2mbqS58jzQxv6b9Nv6sbJjN0aD01mEsXLAIDdftuxMhzvOPok8+JkTEbZ9jiloc23vtzbxicbf6IXK83rKycCxhQpU3nvDVC1df8k26k6kHRYQUDGV1lggDrTyQwx25p4nVJ0avX8FW+3nC7cDbIex6vXRP8JiBSrvtdIeyXzjK/Bl3IKErHvfkfET1km0iZbTEVYaZq0FpxmtuE26lfZBiPINkqM9m7ZPj9Q4iItKl25b7MENZMWy+6HapIFMZiggpGN7qrN+iyjeh7i4PTZNVRMTj1nm5DvjKZEchnpN3yplFxBuyy2Zl8Sb5F/Ta7LoXHRCWFbkalBpm3uTUDtv8bVX/gPJaiJ6orIUNOV7vQCJi4EHTMluHt9rZgUx9KCKkYKgWWNOkzhtG6WtagbBWjI1NCdx7MoLh4REMf3/UtaOYQBERu5lCiYiF/hIXa2wlrbkalCYvYXMsgvDSepy+9Rfzeg2PoHPrJIjImHMiApFwX9M+BCN1CZujOXjqkSkHRYQUDOUCqyzvFSaVtVedC0iu4Sz3oiYEIJ0jMdSvz1s4K5uI9KFp1SIUV5215Uhs2Bf6HA1KTaPAHL6PUkREI6o9dyIZ/QeGh+VcilxFZIzVWRYih7P2DPpFjibj+FkyJaGIkILht8CauxF77Ft9J/uqe4fZezBWEbGmYrY4/YrEYhY8sR5URESyXCtHc7/bskf2UcjZ3LkZlJrfZyWa+53fu3llLiJiYKSzCmEtjvpvdO93sXpWcr3etj6R426nWW+fiON7nN2EkFaOsvJYwY0CSWGgiJCCkbXZ0Fo0ZBdzEZbvaENnogNHtqyyciNjFxG/Et8YwtHxlPiOI5yVvIq6ea6OddvPaa+eysmgVLjNhudtRGN7t20cam4ioizx3bsKUVWJbw7XO119FsOc9QfNa251rGdwoRVhrJBGm5PpCkWEFIxMzYZyN2J1cOvPkdi7xtlc9zhhNgdaO5SxLGqqZsOb5p36OJoNx5UTGX2C3tY6lBdLI07TW6qm/Xv86AoD5WJQ+upuGz4ukQ2AZqPhneMrnTuUTMPdFM2GDp+rMV1vA1ZxhN1o9KcqY1U78gaCNifTFYoIIYSQwORdRN4M9aHzQCXm7/Up93Pd/SitGny4tT/uU/qoCpm8xJ32BqtkNONsZNd3s0omY3NRvldl4ywSiVlKMLNhlji649I2rHJP/9GaJqLaJtefkxBC8kSeRGQUQz98hcYPl6Rr/JU140Po+MCMw5oWETIOG8GCw/ezlvb11EYQmvUeqvfswy4HnfiT/dzkt/hkacxsattyDKcT3bg+kKWByWYjUSO+W2dTFWZrEYTLT7qEQSzaiypd32Mfdh277vEDUnMHn8wSQuquSpLYegYyVuuI+DhFhBAy0eR1KFW0pBKN5y9i/3IfERFWB05zNVG5ktXFVCzcvrXoEuGKGt+JxBiGV5lVIj7VKp7SQzMmvOT4QOBrZlp6lGBrzXr/n11c13A0UxOWtKqIefyaCCGk0ORHRFKP8MeB12Jx958QaNa2e+cI6N07nAv14ElzrvB/3bWdZ/oRqWr6HTxsxgKtBL+5m1lAUtfrMVsrQuVXZjOZbxJYlZgUtfxKK+ucEMnExc14IMpOle8lRGRrw6eY4WcHYTVpfeq0oiCEkAmgAIl1fxG5tjumXqhFc5i1UA+ewepYEeYftYuIefc/o3yjzZLam0/pO1yC0Ky9OHvJaV3ttLg2kLregDmxd/HxV5mFwGw6c1WOiMV9fkXahtus/slxFKVY+M0FX/gYqeYnWKNvvT5Dzu+3DEce+lXMEEJI4ZhQEfG9289kP+E6JzxvI7Y1deBy+zH8YoUpEul8iliQtYgt7yIH1sew7uwYZxTo93FocQThD845F2+xO4muqMavW7tsNfqqoUNezNCZ9AySjqqK5Ln4mcs+fypKYt1lkOmO3xe+ZZeEEFI4po+IGAbeJEeQtFdKyWS4FSKTVUquzmDZyTumeeOieSpagROD7ud0pF5KawiBmAGR/TPEwm8fyCOcWz3NVvbrInYvjnNEQr3q6xSMpydRRhEhhEww00pEVJj5FBkK8zeW8/MaUqOjv7UC4THOAe8/vjL7ZzxsxgJPfkMkx90C5LguYmCPlWCXCXWRlB/HNSSEkKBMzZzIWHC8NoM7ae9OhLSlOPIg23tKASnC6s/dPkCZMQUts4iYvSF+Vt+u6jCXMJgVXUKAhHWIVfpLESGETAITKiLmbqACJ546H/dUZyn40xf7sOs3l3zEQYqIuFu3JrOlkUZv2XYickxr2j/IzQiuHduHXb+745m+lmmOtmEY1sIf3nhUYfPdjm3zXVPdPMIgEuybL+CFO49CESGETAITKiIyhu/sExF9HYqF344pAstw6L7ueG2ixtljYiap3Ul08Z2yuIS+unvULC32M4sT3NofRyhajS6X82tzls+QO4ntvery477DJc6eEYUwmAn2pZi/yFWtRREhhEwCEysilmAsRGWT6FjfXYqw+85/6Dw2xoqw/Le2JLJ+B5/EIwjFVmGPdB1VvdYYwhcfFdk+Q1ZnOfMb+u2DmBN7FzXdZm7Cck5dUo8O1TCgRF96wR46h3UO51f1ZzgRvSGZxNLdjKkSBpvraXr2uM+5hBBSYCZYRAzh1prFO0vZbGjASN7DqR1O19GadoXvluMzTAfUI9edrqzuZkMzFOWXq/AWBChdVjP1iSQvoEo1eMmB2VBp7TCUwiBDdq4ud4oIIWQSoIsvIYSQwFBECCGEBIYiQgghJDAUEUIIIYGhiBBCCAkMRYQQQkhgKCKEEEICQxEhhBASGIoIIYSQwFBECCGEBIYiQgghJDAUEUIIIYGhiBBCCAkMRYQQQkhgKCKEEEICQxEhhBASGIoIIYSQwFBECCGEBIYiQgghJDAUEUIIIYGhiBBCCAmMQ0RG/v5PQgghJGccIsKDBw8ePHiM5aCI8ODBgwePwAdFhAcPHjx4BD4oIjx48ODBI/Dxf4RHznNAe3ckAAAAAElFTkSuQmCC)
![ภาพ.png](data:image/png;base64,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)"""

#CatBoost
submission = pd.DataFrame({
        "Loan_ID": sample_sub["Loan_ID"],
        "Loan_Status": predic_CB
    })
submission['Loan_Status'] = submission['Loan_Status'].replace(1,'Y')
submission['Loan_Status'] = submission['Loan_Status'].replace(0,'N')

submission.to_csv("results_cb.csv", encoding='utf-8', index=False)
files.download("results_cb.csv")

"""![ภาพ.png](data:image/png;base64,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)

จากผลลัพธ์แสดงให้เห็นว่าเมื่อใช้ Parameter ชุดเดียวกัน  GridSearchCV ทำคะแนนเท่ากับรอบที่ดีที่สุด RandomSearchCV แต่คะแนนของทั้งสองไม่ได้เพิ่มขึ้นจากตัวโมเดลที่ไม่ได้รับการ tune เลย
</br> 
อีกทั้งเมื่อไม่ได้ tune XGBoost และ CatBoost คะแนนเทียบเท่ากัน
"""